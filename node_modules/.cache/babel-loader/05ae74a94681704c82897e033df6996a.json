{"ast":null,"code":"var _jsxFileName = \"/Users/elina/Desktop/\\u041F\\u0440\\u043E\\u0435\\u043A\\u0442/ProjectNew/src/pages/catalogPage.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, Fragment, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getProducts } from '../actions/productActions';\nimport TopPartKP from '../components/topPartKP';\nimport LoaderIndicator from '../components/loaderIndicator';\nimport classes from \"./style.module.scss\";\nimport Product from '../components/all-caps';\nimport SortPopup from '../components/sortPart/SortUp';\nimport { setSortBy } from '../actions/productActions';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst CatalogPage = () => {\n  _s();\n\n  const [page, setCurrentPage] = useState(1); // const [category, setCategory] = useState('')\n\n  const dispatch = useDispatch();\n  const {\n    products,\n    loading,\n    error\n  } = useSelector(state => state.products);\n  const {\n    sortBy\n  } = useSelector(_ref => {\n    let {\n      filters\n    } = _ref;\n    return filters;\n  });\n  console.log(sortBy, \"-- sortBy\");\n  const onSelectSortType = React.useCallback(type => {\n    dispatch(setSortBy(type));\n  }, [dispatch]);\n  const sortIems = [{\n    name: 'Популярные',\n    type: 'rates',\n    order: 'desc'\n  }, {\n    name: 'Сначала дешевые',\n    type: 'price',\n    order: 'asc'\n  }, {\n    name: 'Сначала дорогие',\n    type: 'price',\n    order: 'desc'\n  }, {\n    name: 'Новинки',\n    type: 'name',\n    order: 'asc'\n  }];\n  useEffect(() => {\n    if (error) {\n      return alert(\"Error\");\n    }\n\n    dispatch(getProducts(page, sortBy));\n  }, [dispatch, error, page, sortBy]);\n\n  function setCurrentPageNo(pageNumber) {\n    setCurrentPage(pageNumber);\n  } // let count = productsCount;\n  // if (keyword) {\n  //     count = filteredProductsCount\n  // }  \n\n\n  return /*#__PURE__*/_jsxDEV(Fragment, {\n    children: loading ? /*#__PURE__*/_jsxDEV(LoaderIndicator, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 20\n    }, this) : /*#__PURE__*/_jsxDEV(Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(TopPartKP, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(SortPopup, {\n        activeSortType: sortBy.type,\n        items: sortIems,\n        onClickSortType: onSelectSortType\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: classes.sortContainer\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n        id: \"products\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: classes.cap_list,\n          children: products.map(obj => /*#__PURE__*/_jsxDEV(Product, {\n            product: obj\n          }, obj.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 21\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: classes.pagination,\n        children: [...Array(4)].map((_, i) => /*#__PURE__*/_jsxDEV(\"li\", {\n          onClick: () => setCurrentPageNo(i + 1),\n          className: page === i + 1 ? classes.active : ' ',\n          children: i + 1\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 21\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 81,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 11\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n};\n\n_s(CatalogPage, \"NwreIssaL2aCLL/9v82ulBa+CA0=\", false, function () {\n  return [useDispatch, useSelector, useSelector];\n});\n\n_c = CatalogPage;\nexport default CatalogPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"CatalogPage\");","map":{"version":3,"names":["React","useEffect","Fragment","useState","useDispatch","useSelector","getProducts","TopPartKP","LoaderIndicator","classes","Product","SortPopup","setSortBy","CatalogPage","page","setCurrentPage","dispatch","products","loading","error","state","sortBy","filters","console","log","onSelectSortType","useCallback","type","sortIems","name","order","alert","setCurrentPageNo","pageNumber","sortContainer","cap_list","map","obj","id","pagination","Array","_","i","active"],"sources":["/Users/elina/Desktop/Проект/ProjectNew/src/pages/catalogPage.js"],"sourcesContent":["import React, { useEffect, Fragment, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { getProducts } from '../actions/productActions';\nimport TopPartKP from '../components/topPartKP';\nimport LoaderIndicator from '../components/loaderIndicator';\nimport classes from \"./style.module.scss\";\nimport Product from '../components/all-caps';\nimport SortPopup from '../components/sortPart/SortUp';\nimport { setSortBy } from '../actions/productActions';\n\n\nconst CatalogPage = () => {\n\n  const [page, setCurrentPage] = useState(1)\n  // const [category, setCategory] = useState('')\n  const dispatch = useDispatch();\n\n  const {products,loading, error} = useSelector(state => state.products)\n  const { sortBy } = useSelector(({ filters }) => filters);\n\n  console.log(sortBy , \"-- sortBy\");\n\n  const onSelectSortType = React.useCallback((type) => {\n    dispatch(setSortBy(type));\n  }, [dispatch]);\n\n  const sortIems =[ \n      {name: 'Популярные', type: 'rates', order: 'desc'}, \n      {name: 'Сначала дешевые', type: 'price', order: 'asc'}, \n      {name: 'Сначала дорогие',  type: 'price', order: 'desc'}, \n      {name: 'Новинки',  type: 'name', order: 'asc'}, \n        ];\n\n  useEffect(() => {\n      if (error) {\n          return alert(\"Error\")\n      }\n\n      dispatch(getProducts(page, sortBy));\n\n\n  }, [dispatch, error, page, sortBy]);\n\n  \n\n    function setCurrentPageNo(pageNumber) {\n        setCurrentPage(pageNumber)\n    }\n\n    // let count = productsCount;\n    // if (keyword) {\n    //     count = filteredProductsCount\n    // }  \n\n  return (\n    <Fragment>\n        {loading ? <LoaderIndicator/> : (\n          <Fragment>\n            <TopPartKP/>\n            <SortPopup\n          activeSortType={sortBy.type}\n          items={sortIems}\n          onClickSortType={onSelectSortType}\n        />\n            \n            <div className={classes.sortContainer}>\n            \n            </div>\n            <section id=\"products\">\n            \n            <div className={classes.cap_list}>\n                {products.map((obj) => (\n                    <Product key={obj.id} product={obj}/>\n                ))}\n              </div>  \n            \n            </section>\n\n            \n\n            <ul className={classes.pagination}>\n                {\n                  [...Array(4)].map((_,i) => (\n                    <li key={i} onClick={() => setCurrentPageNo(i+1)} className={page === i+1  ? classes.active : ' ' }>{i + 1}</li>\n                  ))\n                }\n          </ul>\n            </Fragment>\n        )}\n    </Fragment>\n  )\n  \n  \n}\n\nexport default CatalogPage;"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,EAAqCC,QAArC,QAAqD,OAArD;AACA,SAASC,WAAT,EAAsBC,WAAtB,QAAyC,aAAzC;AACA,SAASC,WAAT,QAA4B,2BAA5B;AACA,OAAOC,SAAP,MAAsB,yBAAtB;AACA,OAAOC,eAAP,MAA4B,+BAA5B;AACA,OAAOC,OAAP,MAAoB,qBAApB;AACA,OAAOC,OAAP,MAAoB,wBAApB;AACA,OAAOC,SAAP,MAAsB,+BAAtB;AACA,SAASC,SAAT,QAA0B,2BAA1B;;;AAGA,MAAMC,WAAW,GAAG,MAAM;EAAA;;EAExB,MAAM,CAACC,IAAD,EAAOC,cAAP,IAAyBZ,QAAQ,CAAC,CAAD,CAAvC,CAFwB,CAGxB;;EACA,MAAMa,QAAQ,GAAGZ,WAAW,EAA5B;EAEA,MAAM;IAACa,QAAD;IAAUC,OAAV;IAAmBC;EAAnB,IAA4Bd,WAAW,CAACe,KAAK,IAAIA,KAAK,CAACH,QAAhB,CAA7C;EACA,MAAM;IAAEI;EAAF,IAAahB,WAAW,CAAC;IAAA,IAAC;MAAEiB;IAAF,CAAD;IAAA,OAAiBA,OAAjB;EAAA,CAAD,CAA9B;EAEAC,OAAO,CAACC,GAAR,CAAYH,MAAZ,EAAqB,WAArB;EAEA,MAAMI,gBAAgB,GAAGzB,KAAK,CAAC0B,WAAN,CAAmBC,IAAD,IAAU;IACnDX,QAAQ,CAACJ,SAAS,CAACe,IAAD,CAAV,CAAR;EACD,CAFwB,EAEtB,CAACX,QAAD,CAFsB,CAAzB;EAIA,MAAMY,QAAQ,GAAE,CACZ;IAACC,IAAI,EAAE,YAAP;IAAqBF,IAAI,EAAE,OAA3B;IAAoCG,KAAK,EAAE;EAA3C,CADY,EAEZ;IAACD,IAAI,EAAE,iBAAP;IAA0BF,IAAI,EAAE,OAAhC;IAAyCG,KAAK,EAAE;EAAhD,CAFY,EAGZ;IAACD,IAAI,EAAE,iBAAP;IAA2BF,IAAI,EAAE,OAAjC;IAA0CG,KAAK,EAAE;EAAjD,CAHY,EAIZ;IAACD,IAAI,EAAE,SAAP;IAAmBF,IAAI,EAAE,MAAzB;IAAiCG,KAAK,EAAE;EAAxC,CAJY,CAAhB;EAOA7B,SAAS,CAAC,MAAM;IACZ,IAAIkB,KAAJ,EAAW;MACP,OAAOY,KAAK,CAAC,OAAD,CAAZ;IACH;;IAEDf,QAAQ,CAACV,WAAW,CAACQ,IAAD,EAAOO,MAAP,CAAZ,CAAR;EAGH,CARQ,EAQN,CAACL,QAAD,EAAWG,KAAX,EAAkBL,IAAlB,EAAwBO,MAAxB,CARM,CAAT;;EAYE,SAASW,gBAAT,CAA0BC,UAA1B,EAAsC;IAClClB,cAAc,CAACkB,UAAD,CAAd;EACH,CApCqB,CAsCtB;EACA;EACA;EACA;;;EAEF,oBACE,QAAC,QAAD;IAAA,UACKf,OAAO,gBAAG,QAAC,eAAD;MAAA;MAAA;MAAA;IAAA,QAAH,gBACN,QAAC,QAAD;MAAA,wBACE,QAAC,SAAD;QAAA;QAAA;QAAA;MAAA,QADF,eAEE,QAAC,SAAD;QACF,cAAc,EAAEG,MAAM,CAACM,IADrB;QAEF,KAAK,EAAEC,QAFL;QAGF,eAAe,EAAEH;MAHf;QAAA;QAAA;QAAA;MAAA,QAFF,eAQE;QAAK,SAAS,EAAEhB,OAAO,CAACyB;MAAxB;QAAA;QAAA;QAAA;MAAA,QARF,eAWE;QAAS,EAAE,EAAC,UAAZ;QAAA,uBAEA;UAAK,SAAS,EAAEzB,OAAO,CAAC0B,QAAxB;UAAA,UACKlB,QAAQ,CAACmB,GAAT,CAAcC,GAAD,iBACV,QAAC,OAAD;YAAsB,OAAO,EAAEA;UAA/B,GAAcA,GAAG,CAACC,EAAlB;YAAA;YAAA;YAAA;UAAA,QADH;QADL;UAAA;UAAA;UAAA;QAAA;MAFA;QAAA;QAAA;QAAA;MAAA,QAXF,eAuBE;QAAI,SAAS,EAAE7B,OAAO,CAAC8B,UAAvB;QAAA,UAEM,CAAC,GAAGC,KAAK,CAAC,CAAD,CAAT,EAAcJ,GAAd,CAAkB,CAACK,CAAD,EAAGC,CAAH,kBAChB;UAAY,OAAO,EAAE,MAAMV,gBAAgB,CAACU,CAAC,GAAC,CAAH,CAA3C;UAAkD,SAAS,EAAE5B,IAAI,KAAK4B,CAAC,GAAC,CAAX,GAAgBjC,OAAO,CAACkC,MAAxB,GAAiC,GAA9F;UAAA,UAAqGD,CAAC,GAAG;QAAzG,GAASA,CAAT;UAAA;UAAA;UAAA;QAAA,QADF;MAFN;QAAA;QAAA;QAAA;MAAA,QAvBF;IAAA;MAAA;MAAA;MAAA;IAAA;EAFN;IAAA;IAAA;IAAA;EAAA,QADF;AAuCD,CAlFD;;GAAM7B,W;UAIaT,W,EAEiBC,W,EACfA,W;;;KAPfQ,W;AAoFN,eAAeA,WAAf"},"metadata":{},"sourceType":"module"}